import{a7 as v,a8 as l,j as s,m as r,an as y,K as C,ao as T}from"./index.712579a5.js";import{S as E,t as c,G as O}from"./index.519d5fab.js";import{m as b}from"./index.9b0f7788.js";import{C as k}from"./index.4d593478.js";import{S as B,T as w}from"./Table.eac1c3ad.js";const A=n=>n.map(({TeamID:e,PlayoffRank:a,DivisionRank:t,TeamCity:i,TeamName:d,Conference:o,Division:m,WINS:g,LOSSES:u,WinPCT:p,ConferenceGamesBack:h,ConferenceRecord:_,DivisionRecord:f,HOME:R,ROAD:S,OT:N,L10:I,strCurrentStreak:x})=>({teamId:e,playoffRank:a,divisionRank:t,teamCity:i,teamName:d,division:m,conference:o,wins:g,losses:u,winPct:p,conferenceGamesBack:h,conferenceRecord:_,divisionRecord:f,homeRecord:R,roadRecord:S,overTime:N,last10:I,strCurrentStreak:x})),D=v.injectEndpoints({endpoints:n=>({fetchStandings:n.query({query:()=>({url:"/standings"}),transformResponse:e=>A(e.Standings)})})}),{useFetchStandingsQuery:G}=D,F=[{value:"division",label:"Division"},{value:"conference",label:"Conference"}];const L=()=>{const{groupBy:n}=l(t=>t.standingsReducer),{setGroupBy:e}=b();return s(k,{className:"standings__settings",children:r("div",{className:"standings__settings--inner",children:[s("p",{className:"standings__settings--title",children:"'22 - '23 Regular Season Standings"}),s(B,{defaultValue:n,style:{width:120},onChange:t=>{e(t)},options:F,className:"standings__settings--select"})]})})},j=[{title:"Team",fixed:!0,render:(n,e)=>{const{groupBy:a,divisionRank:t,playoffRank:i,teamCity:d,teamName:o}=e;return r("div",{className:"standings__team",children:[s("p",{className:"standings__rank",children:a===y.CONFERENCE?i:t}),s(E,{name:c[o],width:28,height:28}),r("div",{className:"standings__name",children:[s("p",{className:"standings__name-mobile",children:c[o]}),r("p",{className:"standings__name-desktop",children:[d," ",o]})]})]})}},{title:"W",dataIndex:"wins"},{title:"L",dataIndex:"losses"},{title:"WIN%",dataIndex:"winPct",render:n=>n.toLocaleString(void 0,{minimumFractionDigits:3})},{title:"GB",dataIndex:"conferenceGamesBack"},{title:"CONF",dataIndex:"conferenceRecord"},{title:"DIV",dataIndex:"divisionRecord"},{title:"HOME",dataIndex:"homeRecord"},{title:"ROAD",dataIndex:"roadRecord"},{title:"OT",dataIndex:"overTime"},{title:"LAST10",dataIndex:"last10"},{title:"STREAK",dataIndex:"strCurrentStreak"}];const K=({title:n,data:e})=>s(w,{size:"small",rowKey:"teamId",title:()=>s("p",{className:"title",children:n}),dataSource:e,columns:j,pagination:!1,className:"standings__table"}),V=(n=[],e)=>n.reduce((a,t)=>{const i=t[e].toLocaleLowerCase();return a[i]?{...a,[i]:[...a[i],{...t,groupBy:e}]}:{...a,[i]:[t]}},{}),H=()=>{const{groupBy:n}=l(d=>d.standingsReducer),{data:e,isFetching:a,isError:t}=G({}),i=V(e,n);return r(C,{children:[s(L,{}),s(O,{data:e,isLoading:a,isError:t,children:Object.entries(i).map(([d,o])=>s(K,{data:o,title:T[d]},d))})]})};export{H as default};
