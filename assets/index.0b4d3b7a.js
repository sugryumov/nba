import{a7 as N,m as f,j as e,K as A}from"./index.264afbf4.js";import{G}from"./index.f53384b7.js";import{n as M,o as w,I as v}from"./index.c87b7686.js";import{T as n}from"./Table.2d700c31.js";import"./getScrollBarSize.ddc5a963.js";import"./TextArea.fb187a31.js";const $=t=>{const{homeTeam:s,awayTeam:i}=t.game;return{awayTeam:i,homeTeam:s}},D=N.injectEndpoints({endpoints:t=>({fetchBoxScore:t.query({query:s=>({url:`/box-score/${s}`}),transformResponse:s=>$(s)})})}),{useFetchBoxScoreQuery:O}=D,R=(t,s)=>{const{name:i,nameI:o,position:l,personId:r}=s;return f("div",{className:"box-score__table--player",children:[e("img",{className:"box-score__table--img",src:`https://cdn.nba.com/headshots/nba/latest/260x190/${r}.png`}),e("p",{className:"box-score__name--mobile",children:o}),e("p",{className:"box-score__name--desktop",children:i}),e("span",{className:"box-score__table--position",children:l!=null?l:""})]})},k=(t,s)=>{const[i,o]=t.split("M"),{played:l,notPlayingReason:r}=s;return Number(l)?`${i.match(/\d+/)}:${o.match(/\d+/)}`:e("p",{className:"box-score__table--not-playing",children:r?r.split("_").join(" - "):"DNP - Coach's Decision"})},x=t=>(s,i)=>{const{personId:o,teamId:l,gameId:r}=i,d=`${M.SHOT_CHART.PATH}?teamId=${l}&gameId=${r}&playerId=${o}&type=${t}`;return e(A,{children:s?e(w,{to:d,children:s}):e("p",{children:s})})},a=t=>Number(t.played)?{}:{colSpan:0},B=[{title:"Player",fixed:!0,render:R},{title:"MIN",dataIndex:["statistics","minutes"],render:k,onCell:({played:t})=>Number(t)?{}:{colSpan:21}},{title:"FGM",dataIndex:["statistics","fieldGoalsMade"],onCell:a,render:x("FGM")},{title:"FGA",dataIndex:["statistics","fieldGoalsAttempted"],onCell:a,render:x("FGA")},{title:"FG%",dataIndex:["statistics","fieldGoalsPercentage"],render:t=>(t*100).toFixed(1),onCell:a},{title:"3PM",dataIndex:["statistics","threePointersMade"],onCell:a,render:x("FG3M")},{title:"3PA",dataIndex:["statistics","threePointersAttempted"],onCell:a,render:x("FG3A")},{title:"3P%",dataIndex:["statistics","threePointersPercentage"],render:t=>(t*100).toFixed(1),onCell:a},{title:"FTM",dataIndex:["statistics","freeThrowsMade"],onCell:a},{title:"FTA",dataIndex:["statistics","freeThrowsAttempted"],onCell:a},{title:"FT%",dataIndex:["statistics","freeThrowsPercentage"],render:t=>(t*100).toFixed(1),onCell:a},{title:"OREB",dataIndex:["statistics","reboundsOffensive"],onCell:a},{title:"DREB",dataIndex:["statistics","reboundsDefensive"],onCell:a},{title:"REB",dataIndex:["statistics","reboundsTotal"],onCell:a},{title:"AST",dataIndex:["statistics","assists"],onCell:a},{title:"STL",dataIndex:["statistics","steals"],onCell:a},{title:"BLK",dataIndex:["statistics","blocks"],onCell:a},{title:"TO",dataIndex:["statistics","turnovers"],onCell:a},{title:"PF",dataIndex:["statistics","foulsPersonal"],onCell:a},{title:"PTS",dataIndex:["statistics","points"],onCell:a},{title:"FPTS",dataIndex:"statistics",render:t=>{const{points:s,blocks:i,steals:o,reboundsTotal:l,assists:r,foulsPersonal:d,turnovers:m}=t,u=i*3,c=o*3,h=l*1.2,C=r*1.5,p=d*.5,y=s>9&&(r>9||l>9)?3:0,b=s>9&&r>9&&l>9?5:0,P=s+u+c+h+C+y+b,S=m+p;return(P-S).toFixed(1)},onCell:a},{title:"+/-",dataIndex:["statistics","plusMinusPoints"],onCell:a}];const E=({statistics:t})=>{const{fieldGoalsMade:s,fieldGoalsAttempted:i,fieldGoalsPercentage:o,threePointersMade:l,threePointersAttempted:r,threePointersPercentage:d,freeThrowsMade:m,freeThrowsAttempted:u,freeThrowsPercentage:c,reboundsOffensive:h,reboundsDefensive:C,reboundsPersonal:p,assists:y,steals:b,blocks:P,turnovers:S,foulsPersonal:I,points:T}=t,F=(o*100).toFixed(1),g=(d*100).toFixed(1),_=(c*100).toFixed(1);return e(n.Summary,{fixed:!0,children:f(n.Summary.Row,{className:"box-score__table--summary",children:[e(n.Summary.Cell,{index:0,className:"box-score__table--totals",children:"Totals"}),e(n.Summary.Cell,{index:1}),e(n.Summary.Cell,{index:2,children:s}),e(n.Summary.Cell,{index:2,children:i}),e(n.Summary.Cell,{index:3,children:F}),e(n.Summary.Cell,{index:4,children:l}),e(n.Summary.Cell,{index:5,children:r}),e(n.Summary.Cell,{index:6,children:g}),e(n.Summary.Cell,{index:7,children:m}),e(n.Summary.Cell,{index:8,children:u}),e(n.Summary.Cell,{index:9,children:_}),e(n.Summary.Cell,{index:10,children:h}),e(n.Summary.Cell,{index:11,children:C}),e(n.Summary.Cell,{index:12,children:p}),e(n.Summary.Cell,{index:13,children:y}),e(n.Summary.Cell,{index:14,children:b}),e(n.Summary.Cell,{index:15,children:P}),e(n.Summary.Cell,{index:16,children:S}),e(n.Summary.Cell,{index:17,children:I}),e(n.Summary.Cell,{index:18,children:T}),e(n.Summary.Cell,{index:19})]})})};const L=({data:t,gameId:s})=>{const{teamCity:i,teamName:o,teamId:l,players:r,statistics:d}=t,m=r.filter(c=>c.status==="ACTIVE").map(c=>({...c,teamId:l,gameId:s}));return e(n,{size:"small",rowKey:"name",title:()=>f("p",{className:"title",children:[i," ",o]}),dataSource:m,columns:B,pagination:!1,className:"table box-score__table",summary:()=>e(E,{statistics:d})})},z=()=>{const{search:t}=v(),s=new URLSearchParams(t).get("gameId"),{data:i={},isFetching:o,isError:l}=O(s);return e(G,{data:Object.keys(i),isLoading:o,isError:l,children:Object.values(i).map(r=>e(L,{data:r,gameId:s},r.teamId))})};export{z as default};
