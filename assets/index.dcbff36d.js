import{e as y,h as Y,j as d,f as I,k as B,l as k,F as ee,i as o,m as N,_ as j,x as ae,y as te,w as b,H as re,z as ne,C as le,Q as ie,K as z,a7 as oe}from"./index.f65994ad.js";import{G as se}from"./index.42c42ecc.js";import{S as de,c as ce,C as ue}from"./index.b6e4aca5.js";import{j as me,C as pe,h as K,u as ye,a4 as J}from"./index.b4e11ba7.js";import{P as W}from"./gameStatus.070917fe.js";var X=function(e){return e?{left:e.offsetLeft,width:e.clientWidth}:null},$=function(e){return e!==void 0?"".concat(e,"px"):void 0};function ve(a){var e=a.prefixCls,t=a.containerRef,r=a.value,i=a.getValueIndex,l=a.motionName,c=a.onMotionStart,n=a.onMotionEnd,u=y.exports.useRef(null),E=y.exports.useState(r),v=Y(E,2),s=v[0],C=v[1],A=function(L){var T,w=i(L),H=(T=t.current)===null||T===void 0?void 0:T.querySelectorAll(".".concat(e,"-item"))[w];return H},m=y.exports.useState(null),M=Y(m,2),p=M[0],P=M[1],x=y.exports.useState(null),S=Y(x,2),g=S[0],R=S[1];me(function(){if(s!==r){var h=A(s),L=A(r),T=X(h),w=X(L);C(r),P(T),R(w),h&&L?c():n()}},[r]);var f=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},V=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},O=function(){P(null),R(null),n()};return!p||!g?null:d(pe,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:f,onAppearActive:V,onAppearEnd:O,children:function(h,L){var T=h.className,w=h.style,H=I(I({},w),{},{"--thumb-start-left":$(p==null?void 0:p.left),"--thumb-start-width":$(p==null?void 0:p.width),"--thumb-active-left":$(g==null?void 0:g.left),"--thumb-active-width":$(g==null?void 0:g.width)}),_={ref:K(u,L),style:H,className:B("".concat(e,"-thumb"),T)};return d("div",{...I({},_)})}})}var ge=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function he(a){if(typeof a.title<"u")return a.title;if(j(a.label)!=="object"){var e;return(e=a.label)===null||e===void 0?void 0:e.toString()}}function fe(a){return a.map(function(e){if(j(e)==="object"&&e!==null){var t=he(e);return I(I({},e),{},{title:t})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var be=function(e){var t=e.prefixCls,r=e.className,i=e.disabled,l=e.checked,c=e.label,n=e.title,u=e.value,E=e.onChange,v=function(C){i||E(C,u)};return N("label",{className:B(r,o({},"".concat(t,"-item-disabled"),i)),children:[d("input",{className:"".concat(t,"-item-input"),type:"radio",disabled:i,checked:l,onChange:v}),d("div",{className:"".concat(t,"-item-label"),title:n,children:c})]})},G=y.exports.forwardRef(function(a,e){var t,r,i=a.prefixCls,l=i===void 0?"rc-segmented":i,c=a.direction,n=a.options,u=a.disabled,E=a.defaultValue,v=a.value,s=a.onChange,C=a.className,A=C===void 0?"":C,m=a.motionName,M=m===void 0?"thumb-motion":m,p=k(a,ge),P=y.exports.useRef(null),x=y.exports.useMemo(function(){return K(P,e)},[P,e]),S=y.exports.useMemo(function(){return fe(n)},[n]),g=ye((t=S[0])===null||t===void 0?void 0:t.value,{value:v,defaultValue:E}),R=Y(g,2),f=R[0],V=R[1],O=y.exports.useState(!1),h=Y(O,2),L=h[0],T=h[1],w=function(F,D){u||(V(D),s==null||s(D))},H=ee(p,["children"]);return d("div",{...I(I({},H),{},{className:B(l,(r={},o(r,"".concat(l,"-rtl"),c==="rtl"),o(r,"".concat(l,"-disabled"),u),r),A),ref:x}),children:N("div",{className:"".concat(l,"-group"),children:[d(ve,{prefixCls:l,value:f,containerRef:P,motionName:"".concat(l,"-").concat(M),getValueIndex:function(F){return S.findIndex(function(D){return D.value===F})},onMotionStart:function(){T(!0)},onMotionEnd:function(){T(!1)}}),S.map(function(_){return d(be,{...I(I({key:_.value,prefixCls:l,className:B(_.className,"".concat(l,"-item"),o({},"".concat(l,"-item-selected"),_.value===f&&!L)),checked:_.value===f,onChange:w},_),{},{disabled:!!u||!!_.disabled})})})]})})});G.displayName="Segmented";G.defaultProps={options:[]};function U(a,e){return o({},a+", "+a+":hover, "+a+":focus",{color:e.colorTextDisabled,cursor:"not-allowed"})}function q(a){return{backgroundColor:a.bgColorSelected,boxShadow:a.boxShadow}}var Se=b({overflow:"hidden"},re),_e=function(e){var t,r,i,l,c,n=e.componentCls;return o({},n,b(b(b(b(b({},ne(e)),(l={display:"inline-block",padding:e.segmentedContainerPadding,color:e.labelColor,backgroundColor:e.bgColor,borderRadius:e.borderRadius,transition:"all "+e.motionDurationMid+" "+e.motionEaseInOut},o(l,n+"-group",{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"}),o(l,"&&-rtl",{direction:"rtl"}),o(l,"&&-block",{display:"flex"}),o(l,"&&-block "+n+"-item",{flex:1,minWidth:0}),o(l,n+"-item",(t={position:"relative",textAlign:"center",cursor:"pointer",transition:"color "+e.motionDurationMid+" "+e.motionEaseInOut,borderRadius:e.borderRadiusSM,"&-selected":b(b({},q(e)),{color:e.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:e.borderRadiusSM,transition:"background-color "+e.motionDurationMid}},o(t,"&:hover:not("+n+"-item-selected):not("+n+"-item-disabled)",{color:e.labelColorHover,"&::after":{backgroundColor:e.bgColorHover}}),o(t,"&-label",b({minHeight:e.controlHeight-e.segmentedContainerPadding*2,lineHeight:e.controlHeight-e.segmentedContainerPadding*2+"px",padding:"0 "+e.segmentedPaddingHorizontal+"px"},Se)),o(t,"&-icon + *",{marginInlineEnd:e.marginSM/2}),o(t,"&-input",{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}),t)),o(l,"&&-lg",(r={borderRadius:e.borderRadiusLG},o(r,n+"-item-label",{minHeight:e.controlHeightLG-e.segmentedContainerPadding*2,lineHeight:e.controlHeightLG-e.segmentedContainerPadding*2+"px",padding:"0 "+e.segmentedPaddingHorizontal+"px",fontSize:e.fontSizeLG}),o(r,n+"-item-selected",{borderRadius:e.borderRadius}),r)),o(l,"&&-sm",(i={borderRadius:e.borderRadiusSM},o(i,n+"-item-label",{minHeight:e.controlHeightSM-e.segmentedContainerPadding*2,lineHeight:e.controlHeightSM-e.segmentedContainerPadding*2+"px",padding:"0 "+e.segmentedPaddingHorizontalSM+"px"}),o(i,n+"-item-selected",{borderRadius:e.borderRadiusXS}),i)),l)),U("&-disabled "+n+"-item",e)),U(n+"-item-disabled",e)),(c={},o(c,n+"-thumb",b(b({},q(e)),o({position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:e.paddingXXS+"px 0",borderRadius:e.borderRadiusSM},"& ~ "+n+"-item:not("+n+"-item-selected):not("+n+"-item-disabled)::after",{backgroundColor:"transparent"}))),o(c,n+"-thumb-motion-appear-active",{transition:"transform "+e.motionDurationSlow+" "+e.motionEaseInOut+", width "+e.motionDurationSlow+" "+e.motionEaseInOut,willChange:"transform, width"}),c)))};const Ne=ae("Segmented",function(a){var e=a.lineWidthBold,t=a.lineWidth,r=a.colorTextLabel,i=a.colorText,l=a.colorFillSecondary,c=a.colorBgLayout,n=a.colorBgElevated,u=te(a,{segmentedPaddingHorizontal:a.controlPaddingHorizontal-t,segmentedPaddingHorizontalSM:a.controlPaddingHorizontalSM-t,segmentedContainerPadding:e,labelColor:r,labelColorHover:i,bgColor:c,bgColorHover:l,bgColorSelected:n});return[_e(u)]});var Q=globalThis&&globalThis.__rest||function(a,e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(a);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(a,r[i])&&(t[r[i]]=a[r[i]]);return t};function Ee(a){return j(a)==="object"&&!!(a!=null&&a.icon)}var Pe=y.exports.forwardRef(function(a,e){var t,r=a.prefixCls,i=a.className,l=a.block,c=a.options,n=c===void 0?[]:c,u=a.size,E=u===void 0?"middle":u,v=Q(a,["prefixCls","className","block","options","size"]),s=y.exports.useContext(le),C=s.getPrefixCls,A=s.direction,m=C("segmented",r),M=Ne(m),p=Y(M,2),P=p[0],x=p[1],S=y.exports.useContext(ie),g=E||S,R=y.exports.useMemo(function(){return n.map(function(f){if(Ee(f)){var V=f.icon,O=f.label,h=Q(f,["icon","label"]);return b(b({},h),{label:N(z,{children:[d("span",{className:m+"-item-icon",children:V}),O&&d("span",{children:O})]})})}return f})},[n,m]);return P(d(G,{...v,className:B(i,(t={},o(t,m+"-block",l),o(t,m+"-sm",g==="small"),o(t,m+"-lg",g==="large"),t),x),options:R,ref:e,prefixCls:m,direction:A}))});const Ce=Pe,xe=a=>{const{PlayByPlay:e}=a;return e.map(t=>({eventMsgAction:t.EVENTMSGACTIONTYPE,eventMsgType:t.EVENTMSGTYPE,eventNum:t.EVENTNUM,neutralDescription:t.NEUTRALDESCRIPTION,homeDescription:t.HOMEDESCRIPTION,pcTimeString:t.PCTIMESTRING,period:t.PERIOD,person1Type:t.PERSON1TYPE,person2Type:t.PERSON2TYPE,person3Type:t.PERSON3TYPE,player1Id:t.PLAYER1_ID,player1Name:t.PLAYER1_NAME,player1TeamAbbreviation:t.PLAYER1_TEAM_ABBREVIATION,player1TeamCity:t.PLAYER1_TEAM_CITY,player1TeamId:t.PLAYER1_TEAM_ID,player1TeamNickName:t.PLAYER1_TEAM_NICKNAME,player2Id:t.PLAYER2_ID,player2Name:t.PLAYER2_NAME,player2TeamAbbreviation:t.PLAYER2_TEAM_ABBREVIATION,player2TeamCity:t.PLAYER2_TEAM_CITY,player2TeamId:t.PLAYER2_TEAM_ID,player2TeamNickName:t.PLAYER2_TEAM_NICKNAME,player3Id:t.PLAYER3_ID,player3Name:t.PLAYER3_NAME,player3TeamAbbreviation:t.PLAYER3_TEAM_ABBREVIATION,player3TeamCity:t.PLAYER3_TEAM_CITY,player3TeamId:t.PLAYER3_TEAM_ID,player3TeamNickName:t.PLAYER3_TEAM_NICKNAME,score:t.SCORE,visitorDescription:t.VISITORDESCRIPTION,videoAvailableFlag:Boolean(t.VIDEO_AVAILABLE_FLAG)}))},Te=oe.injectEndpoints({endpoints:a=>({fetchPlayByPlay:a.query({query:e=>({url:`/play-by-play/${e}`}),transformResponse:e=>xe(e)})})}),{useFetchPlayByPlayQuery:Ae}=Te,Z=a=>({label:a>4?`OT${a-4}`:`Q${a}`,value:a});const Re=()=>{const{search:a}=J(),e=new URLSearchParams(a).get("hTeam"),t=new URLSearchParams(a).get("vTeam"),r=i=>N("div",{className:"play-by-play__header--team",children:[d(de,{name:i,width:40,height:40}),ce[i]]});return N("div",{className:"play-by-play__header",children:[r(t),r(e)]})};const Ie=({item:a})=>{const{eventMsgType:e,period:t,person1Type:r,player1Name:i,player1Id:l,player2Name:c,player3Name:n,player3Id:u,person3Type:E,visitorDescription:v,homeDescription:s,pcTimeString:C,score:A}=a,{label:m}=Z(t);if(e===W.startQuarter)return d("p",{className:"play-by-play__item--quarter",children:N(z,{children:[m," start"]})});if(e===W.endQuarter)return d("p",{className:"play-by-play__item--quarter",children:N(z,{children:[m," end"]})});const M=i||c||n,p=x=>x===4?u:l,P=(x,S)=>{const g=S?"play-by-play__item--home":"play-by-play__item--visitor",R=S?"play-by-play__item--description":"play-by-play__item--description play-by-play__item--reverse",f=`https://cdn.nba.com/headshots/nba/latest/260x190/${p(S?E:r)}.png`;return d(z,{children:x&&N("div",{className:`play-by-play__item ${g}`,children:[N("div",{className:"play-by-play__item--info",children:[d("p",{children:C}),d("p",{className:"play-by-play__item--score",children:A&&A})]}),N("div",{className:R,children:[M&&d("img",{className:"play-by-play__item--img",src:f}),d("span",{className:"play-by-play__item--text",children:x})]})]})})};return N(y.exports.Fragment,{children:[P(v,!1),P(s,!0)]},a.eventNum)};const Ve=()=>{const{search:a}=J(),e=new URLSearchParams(a).get("id"),{data:t,isFetching:r,isError:i}=Ae(e),l=[...new Set(t==null?void 0:t.map(({period:s})=>s))],c=l==null?void 0:l.map(s=>Z(s)),[n,u]=y.exports.useState(1),E=s=>{u(s)},v=t==null?void 0:t.filter(s=>s.period===n);return d(se,{data:t,isLoading:r,isError:i,children:N(ue,{className:"play-by-play",children:[d(Ce,{block:!0,size:"large",defaultValue:n,options:c,onChange:E,className:"play-by-play__segmented"}),d(Re,{}),v==null?void 0:v.map(s=>d(Ie,{item:s},s.eventNum))]})})};export{Ve as default};
